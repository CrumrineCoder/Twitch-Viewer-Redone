<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Twitch Viewer Version 2</title>
    <link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
    <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Varela+Round'>
	  <link rel='stylesheet prefetch' href='https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.css'>
    <link rel="stylesheet" href="css/style.css">
</head>

<body ng-app="stream" ng-controller="streamController">
    <menu class="box" ng-repeat="cat in categories" ng-init="filter[cat]={}">
      <h2>{{cat}}</h2>
      <md-item ng-repeat="value in getItems(cat, Streams)">
        <md-switch class="md-primary" ng-model="filter[cat][value]" ng-model="value">
          ({{(filtered | filter:value:true).length}})&nbsp;{{value}}
        </md-switch>
      </md-item>
    </menu>
    <form id="twitchSearch" class="formInline">
        <input placeholder="Search for streams." type="text" id="searchBar">
        <button id="searchButton" type="submit"><span class="fa fa-search"></span></button>
    </form>
    <span ng-repeat="Stream in filtered=(Streams | filter:filterByPropertiesMatchingAND) | orderBy: '!online'">
         <div class="container" id="{{Stream.name}}" ng-class="{true: 'online', false: 'offline'}[{{Stream.online}}]">
            <a href="{{Stream.url}}" target="_blank">
               <img class="logo" ng-src="{{Stream.logo}}"></img>
               <span class="summary"> {{Stream.name}} <span ng-show="{{Stream.online}}">is</span> <span ng-hide="{{Stream.online}}">was</span> playing {{Stream.game}} <span ng-show="{{Stream.online}}">for {{Stream.viewers}} viewers</span> </span>
    <p class="title">{{Stream.title}}</p>
    <hr>
    <div class="smallDetails"> Followers: <span class="followers"> {{Stream.followers}} </span> Language: <span class="language"> {{Stream.language}}</span> Mature Only: <span class="mature"> {{Stream.mature}} </span> </div>
    <img class="preview" ng-src="{{Stream.preview}}"> </img>
    </a>
    </div>
    </span>
	 <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular.min.js'></script>
	<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js'></script>
	<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js'></script>
	<script src='https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.6/angular.js'></script>
    <script src="js/index.js"></script>
</body>

</html>